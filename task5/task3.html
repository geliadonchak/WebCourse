<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
</head>
<body>
    <script>
        let biota = [
            {
                text: 'Бактерии',
                children: [
                    {
                        text: 'Пневмококк',
                        children: []
                    },
                    {
                        text: 'Сальмонелла',
                        children: []
                    },
                    {
                        text: 'Золотистый стафилококк',
                        children: []
                    },
                    {
                        text: 'Хеликобактер пилори',
                        children: []
                    }
                ] 
            },
            {
                text: 'Археи',
                children: [
                    {
                        text: 'Галобактерия',
                        children: []
                    },
                    {
                        text: 'Метанобактерия',
                        children: []
                    },
                    {
                        text: 'Метанококк',
                        children: []
                    },
                    {
                        text: 'Корархеот',
                        children: []
                    }
                ]
            },
            {
                text: 'Эукариоты',
                children: [
                    {
                        text: 'Простейшие',
                        children: [
                            {
                                text: 'Амёба',
                                children: []
                            },
                            {
                                text: 'Эвглена зелёная',
                                children: []
                            },
                            {
                                text: 'Инфузория-туфелька',
                                children: []
                            }
                        ]
                    },
                    {
                        text: 'Хромисты',
                        children: [
                            {
                                text: 'Ризария',
                                children: []
                            },
                            {
                                text: 'Ламинария',
                                children: []
                            },
                            {
                                text: 'Фукус',
                                children: []
                            }
                        ]
                    },
                    {
                        text: 'Грибы',
                        children: [
                            {
                                text: 'Опенок',
                                children: []
                            },
                            {
                                text: 'Сыроежка',
                                children: []
                            },
                            {
                                text: 'Белый гриб',
                                children: []
                            }
                        ]
                    },
                    {
                        text: 'Растения',
                        children: [
                            {
                                text: 'Клёен',
                                children: []
                            },
                            {
                                text: 'Орешник',
                                children: []
                            },
                            {
                                text: 'Крапива',
                                children: []
                            }
                        ]
                    },
                    {
                        text: 'Животные',
                        children: [
                            {
                                text: 'Стрекоза',
                                children: []
                            },
                            {
                                text: 'Жираф',
                                children: []
                            },
                            {
                                text: 'Акула',
                                children: []
                            }
                        ]
                    }
                ]
            },
            {
                text: 'Вирусы',
                children: [
                    {
                        text: 'Вирус оспы',
                        children: []
                    },
                    {
                        text: 'Вирус герпеса',
                        children: []
                    },
                    {
                        text: 'Гепатит',
                        children: []
                    },
                    {
                        text: 'Вирус Кори',
                        children: []
                    }
                ]
            }
        ];


        function getData(data) {
            let ul = $("<ul></ul>");
            for (let i = 0; i < data.length; i++) {
                let li = $("<li></li>").text(data[i].text);

                if (data[i].children.length > 0) {
                    let children = getData(data[i].children);
                    li.append(children);
                }

                ul.append(li);
            }

            return ul;
        }

        $("body").append(getData(biota));
    
        $("li").each(function() {
            let text = $(this).clone().children().remove().end().text();
            console.log("Text: " + text + "; Count: " + $(this).find("li").length);
        
            $(this).click(function() {
                $(this).children().toggle('slow');
                return false;
            });
        });
    </script>
</body>
</html>